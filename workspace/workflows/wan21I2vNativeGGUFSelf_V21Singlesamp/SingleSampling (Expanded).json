{"id":"32b536e9-5324-436a-9abd-e3914ef80fae","revision":0,"last_node_id":468,"last_link_id":629,"nodes":[{"id":60,"type":"GetNode","pos":[-2940,-390],"size":[210,60],"flags":{"collapsed":true},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[77]}],"title":"Get_FrameNum","properties":{},"widgets_values":["FrameNum"],"color":"#1b4669","bgcolor":"#29699c"},{"id":41,"type":"CLIPVisionEncode","pos":[-2960,-570],"size":[253.60000610351562,78],"flags":{"collapsed":false},"order":103,"mode":0,"inputs":[{"localized_name":"clip_vision","name":"clip_vision","type":"CLIP_VISION","link":45},{"localized_name":"image","name":"image","type":"IMAGE","link":144},{"localized_name":"crop","name":"crop","type":"COMBO","widget":{"name":"crop"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION_OUTPUT","name":"CLIP_VISION_OUTPUT","type":"CLIP_VISION_OUTPUT","slot_index":0,"links":[49]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"CLIPVisionEncode"},"widgets_values":["center"],"color":"#223","bgcolor":"#335"},{"id":225,"type":"Reroute","pos":[-2830,-790],"size":[75,26],"flags":{},"order":88,"mode":0,"inputs":[{"name":"","type":"*","link":626}],"outputs":[{"name":"","type":"CONDITIONING","links":[375]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":7,"type":"CLIPVisionLoader","pos":[-5170,460],"size":[290,60],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null}],"outputs":[{"localized_name":"CLIP_VISION","name":"CLIP_VISION","type":"CLIP_VISION","slot_index":0,"links":[18]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"CLIPVisionLoader"},"widgets_values":["clip_vision_h.safetensors"],"color":"#50506c","bgcolor":"#3c3c58"},{"id":14,"type":"SetNode","pos":[-5470,280],"size":[270,80],"flags":{"collapsed":false},"order":73,"mode":0,"inputs":[{"name":"CLIP","type":"CLIP","link":482}],"outputs":[{"name":"*","type":"*","links":[]}],"title":"Set_Clip","properties":{"previousName":"Clip"},"widgets_values":["Clip"],"color":"#432","bgcolor":"#653"},{"id":312,"type":"UNETLoader","pos":[-5770,90],"size":[270,90],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[480]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"UNETLoader"},"widgets_values":["Wan2_1-I2V-14B-720P_fp8_e4m3fn.safetensors","default"],"color":"#646480","bgcolor":"#50506c"},{"id":53,"type":"TorchCompileModelWanVideo","pos":[-4670,20],"size":[300,190],"flags":{},"order":111,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":69},{"localized_name":"backend","name":"backend","type":"COMBO","widget":{"name":"backend"},"link":null},{"localized_name":"fullgraph","name":"fullgraph","type":"BOOLEAN","widget":{"name":"fullgraph"},"link":null},{"localized_name":"mode","name":"mode","type":"COMBO","widget":{"name":"mode"},"link":null},{"localized_name":"dynamic","name":"dynamic","type":"BOOLEAN","widget":{"name":"dynamic"},"link":null},{"localized_name":"dynamo_cache_size_limit","name":"dynamo_cache_size_limit","type":"INT","widget":{"name":"dynamo_cache_size_limit"},"link":null},{"localized_name":"compile_transformer_blocks_only","name":"compile_transformer_blocks_only","type":"BOOLEAN","widget":{"name":"compile_transformer_blocks_only"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[483]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"d57154c3a808b8a3f232ed293eaa2d000867c884","Node name for S&R":"TorchCompileModelWanVideo","aux_id":"kijai/ComfyUI-KJNodes"},"widgets_values":["inductor",false,"default",false,64,false],"color":"#222","bgcolor":"#000"},{"id":358,"type":"ModelPatchTorchSettings","pos":[-4670,240],"size":[300,60],"flags":{"collapsed":false},"order":114,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":483},{"localized_name":"enable_fp16_accumulation","name":"enable_fp16_accumulation","type":"BOOLEAN","widget":{"name":"enable_fp16_accumulation"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[484]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"5dcda71011870278c35d92ff77a677ed2e538f2d","Node name for S&R":"ModelPatchTorchSettings","widget_ue_connectable":{}},"widgets_values":[true],"color":"#222","bgcolor":"#000"},{"id":52,"type":"PatchModelPatcherOrder","pos":[-4670,-90],"size":[300,82],"flags":{},"order":104,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":556},{"localized_name":"patch_order","name":"patch_order","type":"COMBO","widget":{"name":"patch_order"},"link":null},{"localized_name":"full_load","name":"full_load","type":"COMBO","widget":{"name":"full_load"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[69]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"d57154c3a808b8a3f232ed293eaa2d000867c884","Node name for S&R":"PatchModelPatcherOrder","aux_id":"kijai/ComfyUI-KJNodes"},"widgets_values":["weight_patch_first","auto"],"color":"#222","bgcolor":"#000"},{"id":354,"type":"CLIPLoaderGGUF","pos":[-5770,280],"size":[270,82],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[]}],"properties":{"cnr_id":"ComfyUI-GGUF","ver":"b3ec875a68d94b758914fd48d30571d953bb7a54","Node name for S&R":"CLIPLoaderGGUF"},"widgets_values":["umt5-xxl-encoder-Q5_K_M.gguf","wan"],"color":"#223","bgcolor":"#335"},{"id":383,"type":"VRAMCleanup","pos":[-1530,-350],"size":[270,100],"flags":{},"order":122,"mode":0,"inputs":[{"localized_name":"anything","name":"anything","type":"*","link":552},{"localized_name":"offload_model","name":"offload_model","type":"BOOLEAN","widget":{"name":"offload_model"},"link":null},{"localized_name":"offload_cache","name":"offload_cache","type":"BOOLEAN","widget":{"name":"offload_cache"},"link":null}],"outputs":[{"localized_name":"output","name":"output","type":"*","links":null}],"properties":{"cnr_id":"comfyui_memory_cleanup","ver":"7ba3265c18f636e8d28bfdffc875f8d3b09634ea","Node name for S&R":"VRAMCleanup"},"widgets_values":[true,true],"color":"#222","bgcolor":"#000"},{"id":378,"type":"GetNode","pos":[-1710,-530],"size":[210,34],"flags":{"collapsed":true},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[507]}],"title":"Get_ImageInput","properties":{},"widgets_values":["ImageInput"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":391,"type":"Fast Groups Bypasser (rgthree)","pos":[-6450,490],"size":[320,90],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"brown","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#332922","bgcolor":"#593930"},{"id":384,"type":"ColorMatch","pos":[-1530,-560],"size":[270,102],"flags":{},"order":120,"mode":4,"inputs":[{"localized_name":"image_ref","name":"image_ref","type":"IMAGE","link":507},{"localized_name":"image_target","name":"image_target","type":"IMAGE","link":550},{"localized_name":"method","name":"method","type":"COMBO","widget":{"name":"method"},"link":null},{"localized_name":"strength","name":"strength","shape":7,"type":"FLOAT","widget":{"name":"strength"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[534]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"ColorMatch"},"widgets_values":["reinhard",0.5000000000000001],"color":"#232","bgcolor":"#353"},{"id":380,"type":"SetNode","pos":[-1220,-420],"size":[210,50],"flags":{"collapsed":true},"order":121,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":551}],"outputs":[{"name":"*","type":"*","links":[]}],"title":"Set_ImageOut","properties":{"previousName":"ImageOut"},"widgets_values":["ImageOut"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":413,"type":"SetNode","pos":[-1220,-470],"size":[210,58],"flags":{"collapsed":true},"order":124,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":534}],"outputs":[{"name":"*","type":"*","links":[]}],"title":"Set_ImageColorMatch","properties":{"previousName":"ImageColorMatch"},"widgets_values":["ImageColorMatch"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":417,"type":"GetNode","pos":[-3240,800],"size":[210,34],"flags":{"collapsed":true},"order":6,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[540]}],"title":"Get_ImageOut","properties":{},"widgets_values":["ImageOut"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":419,"type":"GetNode","pos":[-5760,790],"size":[210,34],"flags":{"collapsed":true},"order":7,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[543]}],"title":"Get_ImageOut","properties":{},"widgets_values":["ImageOut"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":324,"type":"GetNode","pos":[-5040,990],"size":[210,34],"flags":{"collapsed":true},"order":8,"mode":4,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[456]}],"title":"Get_Interpolation","properties":{},"widgets_values":["Interpolation"],"color":"#1b4669","bgcolor":"#29699c"},{"id":424,"type":"GetNode","pos":[-2320,40],"size":[210,34],"flags":{"collapsed":true},"order":9,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[546]}],"title":"Get_ImageOut","properties":{},"widgets_values":["ImageOut"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":425,"type":"VAEDecode","pos":[-1700,-450],"size":[140,46],"flags":{},"order":118,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":548},{"localized_name":"vae","name":"vae","type":"VAE","link":549}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[550,551,552]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"VAEDecode"},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":51,"type":"ModelPassThrough","pos":[-4670,470],"size":[140,26],"flags":{"collapsed":true},"order":117,"mode":0,"inputs":[{"localized_name":"model","name":"model","shape":7,"type":"MODEL","link":484}],"outputs":[{"localized_name":"model","name":"model","type":"MODEL","links":[446]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"ModelPassThrough"},"widgets_values":[]},{"id":352,"type":"ModelPassThrough","pos":[-5100,-60],"size":[140,26],"flags":{"collapsed":true},"order":95,"mode":0,"inputs":[{"localized_name":"model","name":"model","shape":7,"type":"MODEL","link":475}],"outputs":[{"localized_name":"model","name":"model","type":"MODEL","links":[556]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"ModelPassThrough"},"widgets_values":[]},{"id":105,"type":"Fast Groups Bypasser (rgthree)","pos":[-4680,350],"size":[320,58],"flags":{"collapsed":false},"order":10,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"title":"Torch Compile","properties":{"matchColors":"Blue","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#651f1f","bgcolor":"#510b0b"},{"id":313,"type":"PathchSageAttentionKJ","pos":[-4680,510],"size":[320,60],"flags":{},"order":119,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":446},{"localized_name":"sage_attention","name":"sage_attention","type":"COMBO","widget":{"name":"sage_attention"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[557]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"PathchSageAttentionKJ"},"widgets_values":["disabled"],"color":"#651f1f","bgcolor":"#510b0b"},{"id":5,"type":"CLIPLoader","pos":[-5770,410],"size":[270,110],"flags":{},"order":11,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[482]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"CLIPLoader"},"widgets_values":["umt5_xxl_fp8_e4m3fn_scaled.safetensors","wan","default"],"color":"#50506c","bgcolor":"#3c3c58"},{"id":429,"type":"GetNode","pos":[-2320,-470],"size":[210,49.99998474121094],"flags":{"collapsed":true},"order":12,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[571]}],"title":"Get_Total Steps","properties":{},"widgets_values":["Total Steps"],"color":"#1b4669","bgcolor":"#29699c"},{"id":308,"type":"GetNode","pos":[-2320,-570],"size":[210,60],"flags":{"collapsed":true},"order":13,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[565]}],"title":"Get_Seed","properties":{},"widgets_values":["Seed"],"color":"#1b4669","bgcolor":"#29699c"},{"id":229,"type":"SetNode","pos":[-3000,-90],"size":[210,60],"flags":{"collapsed":true},"order":86,"mode":0,"inputs":[{"name":"INT","type":"INT","link":567}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Total Steps","properties":{"previousName":"Total Steps"},"widgets_values":["Total Steps"],"color":"#1b4669","bgcolor":"#29699c"},{"id":46,"type":"GetNode","pos":[-2880,-620],"size":[210,60],"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[50]}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"],"color":"#322","bgcolor":"#533"},{"id":256,"type":"GetNode","pos":[-2320,-420],"size":[210,60],"flags":{"collapsed":true},"order":15,"mode":0,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[566]}],"title":"Get_CFG","properties":{},"widgets_values":["CFG"],"color":"#232","bgcolor":"#353"},{"id":433,"type":"SetNode","pos":[-3010,10],"size":[210,50],"flags":{"collapsed":true},"order":79,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":583}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_CFG","properties":{"previousName":"CFG"},"widgets_values":["CFG"],"color":"#232","bgcolor":"#353"},{"id":64,"type":"MathExpression|pysssss","pos":[-3010,360],"size":[301.3472595214844,128],"flags":{"collapsed":false},"order":75,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":289},{"localized_name":"b","name":"b","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"c","name":"c","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"expression","name":"expression","type":"INT,FLOAT,IMAGE,LATENT","widget":{"name":"expression"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","slot_index":0,"links":[]},{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","slot_index":1,"links":[95]}],"title":"Frames per Seconds per Interpo Multiplier","properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.0"},"widgets_values":["a*16\n"]},{"id":103,"type":"INTConstant","pos":[-3260,280],"size":[220,60],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[126,289]}],"title":"Interpolation Multiplier","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"INTConstant"},"widgets_values":[2],"color":"#233","bgcolor":"#355"},{"id":72,"type":"SetNode","pos":[-2700,310],"size":[210,60],"flags":{"collapsed":true},"order":74,"mode":0,"inputs":[{"name":"INT","type":"INT","link":126}],"outputs":[{"name":"*","type":"*","links":[]}],"title":"Set_Interpolation","properties":{"previousName":"Interpolation"},"widgets_values":["Interpolation"],"color":"#1b4669","bgcolor":"#29699c"},{"id":104,"type":"FloatConstant","pos":[-3260,380],"size":[220,70],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","links":[395]}],"title":"Speed","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"FloatConstant"},"widgets_values":[1.0000000000000002],"color":"#223","bgcolor":"#335"},{"id":307,"type":"SetNode","pos":[-3000,590],"size":[210,60],"flags":{"collapsed":true},"order":94,"mode":0,"inputs":[{"name":"INT","type":"INT","link":441}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Seed","properties":{"previousName":"Seed"},"widgets_values":["Seed"],"color":"#1b4669","bgcolor":"#29699c"},{"id":75,"type":"MathExpression|pysssss","pos":[-2700,500],"size":[230,130],"flags":{"collapsed":false},"order":96,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":95},{"localized_name":"b","name":"b","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":396},{"localized_name":"c","name":"c","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"expression","name":"expression","type":"INT,FLOAT,IMAGE,LATENT","widget":{"name":"expression"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","slot_index":0,"links":[]},{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","slot_index":1,"links":[97]}],"title":"Multiply by Speed = Final FPS","properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.0"},"widgets_values":["floor(a*b)\n"]},{"id":67,"type":"SetNode","pos":[-2460,550],"size":[210,60],"flags":{"collapsed":true},"order":105,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":97}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_FPS","properties":{"previousName":"FPS"},"widgets_values":["FPS"],"color":"#232","bgcolor":"#353"},{"id":377,"type":"Reroute","pos":[-1810,-590],"size":[75,26],"flags":{},"order":116,"mode":0,"inputs":[{"name":"","type":"*","link":577}],"outputs":[{"name":"","type":"LATENT","links":[548]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":376,"type":"GetNode","pos":[-1820,-400],"size":[210,34],"flags":{"collapsed":true},"order":18,"mode":0,"inputs":[],"outputs":[{"name":"VAE","type":"VAE","links":[549]}],"title":"Get_Vae","properties":{},"widgets_values":["Vae"],"color":"#322","bgcolor":"#533"},{"id":237,"type":"Reroute","pos":[-3000,520],"size":[75,26],"flags":{},"order":76,"mode":0,"inputs":[{"name":"","type":"*","link":395}],"outputs":[{"name":"","type":"FLOAT","links":[396]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":351,"type":"UnetLoaderGGUF","pos":[-5770,-90],"size":[270,130],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[]}],"properties":{"cnr_id":"ComfyUI-GGUF","ver":"b3ec875a68d94b758914fd48d30571d953bb7a54","Node name for S&R":"UnetLoaderGGUF"},"widgets_values":["wan2.1-i2v-14b-720p-Q5_K_M.gguf"],"color":"#223","bgcolor":"#335"},{"id":118,"type":"Display Any (rgthree)","pos":[-2790,-20],"size":[210,88],"flags":{},"order":98,"mode":0,"inputs":[{"dir":3,"localized_name":"source","name":"source","type":"*","link":149}],"outputs":[],"title":"Frames","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2506081210","Node name for S&R":"Display Any (rgthree)"},"widgets_values":["81"],"color":"#222","bgcolor":"#000"},{"id":441,"type":"SetNode","pos":[-3010,110],"size":[210,50],"flags":{"collapsed":true},"order":78,"mode":0,"inputs":[{"name":"FLOAT","type":"FLOAT","link":592}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Shift","properties":{"previousName":""},"widgets_values":["Shift"],"color":"#232","bgcolor":"#353"},{"id":59,"type":"SetNode","pos":[-2770,180],"size":[210,60],"flags":{"collapsed":true},"order":97,"mode":0,"inputs":[{"name":"INT","type":"INT","link":76}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_FrameNum","properties":{"previousName":"FrameNum"},"widgets_values":["FrameNum"],"color":"#1b4669","bgcolor":"#29699c"},{"id":58,"type":"MathExpression|pysssss","pos":[-3010,150],"size":[210,128],"flags":{"collapsed":false},"order":77,"mode":0,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":124},{"localized_name":"b","name":"b","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"c","name":"c","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"expression","name":"expression","type":"INT,FLOAT,IMAGE,LATENT","widget":{"name":"expression"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","slot_index":0,"links":[76,149]},{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","slot_index":1,"links":null}],"title":"16 frames per 1 seconds","properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.0"},"widgets_values":["(a*16)+1"]},{"id":101,"type":"FloatConstant","pos":[-3260,180],"size":[220,60],"flags":{},"order":21,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","links":[124]}],"title":"Length (Seconds)","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"FloatConstant"},"widgets_values":[5.000000000000001],"color":"#332922","bgcolor":"#593930"},{"id":442,"type":"FloatConstant","pos":[-3260,80],"size":[220,60],"flags":{},"order":22,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","links":[592]}],"title":"Shift (8-4)","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"FloatConstant"},"widgets_values":[8.000000000000002],"color":"#323","bgcolor":"#535"},{"id":434,"type":"FloatConstant","pos":[-3260,-20],"size":[220,60],"flags":{},"order":23,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"FLOAT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"FLOAT","links":[583]}],"title":"CFG (1)","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"FloatConstant"},"widgets_values":[1.0000000000000002],"color":"#432","bgcolor":"#653"},{"id":325,"type":"RIFE VFI","pos":[-4880,670],"size":[289.6578063964844,198],"flags":{},"order":112,"mode":4,"inputs":[{"localized_name":"frames","name":"frames","type":"IMAGE","link":455},{"localized_name":"optional_interpolation_states","name":"optional_interpolation_states","shape":7,"type":"INTERPOLATION_STATES","link":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"clear_cache_after_n_frames","name":"clear_cache_after_n_frames","type":"INT","widget":{"name":"clear_cache_after_n_frames"},"link":null},{"localized_name":"multiplier","name":"multiplier","type":"INT","widget":{"name":"multiplier"},"link":456},{"localized_name":"fast_mode","name":"fast_mode","type":"BOOLEAN","widget":{"name":"fast_mode"},"link":null},{"localized_name":"ensemble","name":"ensemble","type":"BOOLEAN","widget":{"name":"ensemble"},"link":null},{"localized_name":"scale_factor","name":"scale_factor","type":"COMBO","widget":{"name":"scale_factor"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[596]}],"properties":{"cnr_id":"comfyui-frame-interpolation","ver":"c336f7184cb1ac1243381e725fea1ad2c0a10c09","Node name for S&R":"RIFE VFI"},"widgets_values":["rife49.pth",16,4,false,true,1],"color":"#222","bgcolor":"#000"},{"id":320,"type":"GetNode","pos":[-4700,910],"size":[210,58],"flags":{"collapsed":true},"order":24,"mode":4,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[597]}],"title":"Get_FPS","properties":{},"widgets_values":["FPS"],"color":"#232","bgcolor":"#353"},{"id":323,"type":"ImageUpscaleWithModel","pos":[-5380,670],"size":[170,50],"flags":{"collapsed":false},"order":99,"mode":4,"inputs":[{"localized_name":"upscale_model","name":"upscale_model","type":"UPSCALE_MODEL","link":453},{"localized_name":"image","name":"image","type":"IMAGE","link":544}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[457]}],"title":"Upscale","properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"ImageUpscaleWithModel"},"widgets_values":[],"color":"#223","bgcolor":"#335"},{"id":418,"type":"GetNode","pos":[-5760,750],"size":[210,34],"flags":{"collapsed":true},"order":25,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[542]}],"title":"Get_ImageColorMatch","properties":{},"widgets_values":["ImageColorMatch"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":420,"type":"Any Switch (rgthree)","pos":[-5560,720],"size":[140,106],"flags":{},"order":80,"mode":4,"inputs":[{"dir":3,"name":"any_01","type":"IMAGE","link":542},{"dir":3,"name":"any_02","type":"IMAGE","link":543},{"dir":3,"name":"any_03","type":"IMAGE","link":null},{"dir":3,"name":"any_04","type":"IMAGE","link":null},{"dir":3,"name":"any_05","type":"IMAGE","link":null}],"outputs":[{"dir":4,"label":"IMAGE","name":"*","shape":3,"type":"IMAGE","links":[544]}],"title":"Switch","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2506081210"},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":345,"type":"GetNode","pos":[-5600,870],"size":[210,60],"flags":{"collapsed":true},"order":26,"mode":4,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[470]}],"title":"Get_UpscalerMultiplier","properties":{},"widgets_values":["UpscalerMultiplier"],"color":"#232","bgcolor":"#353"},{"id":69,"type":"RIFE VFI","pos":[-2880,730],"size":[289.6578063964844,198],"flags":{},"order":101,"mode":0,"inputs":[{"localized_name":"frames","name":"frames","type":"IMAGE","link":541},{"localized_name":"optional_interpolation_states","name":"optional_interpolation_states","shape":7,"type":"INTERPOLATION_STATES","link":null},{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null},{"localized_name":"clear_cache_after_n_frames","name":"clear_cache_after_n_frames","type":"INT","widget":{"name":"clear_cache_after_n_frames"},"link":null},{"localized_name":"multiplier","name":"multiplier","type":"INT","widget":{"name":"multiplier"},"link":87},{"localized_name":"fast_mode","name":"fast_mode","type":"BOOLEAN","widget":{"name":"fast_mode"},"link":null},{"localized_name":"ensemble","name":"ensemble","type":"BOOLEAN","widget":{"name":"ensemble"},"link":null},{"localized_name":"scale_factor","name":"scale_factor","type":"COMBO","widget":{"name":"scale_factor"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[471]}],"properties":{"cnr_id":"comfyui-frame-interpolation","ver":"c336f7184cb1ac1243381e725fea1ad2c0a10c09","Node name for S&R":"RIFE VFI"},"widgets_values":["rife49.pth",16,4,false,true,1],"color":"#222","bgcolor":"#000"},{"id":68,"type":"GetNode","pos":[-2710,970],"size":[210,60],"flags":{"collapsed":true},"order":27,"mode":0,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[472]}],"title":"Get_FPS","properties":{},"widgets_values":["FPS"],"color":"#232","bgcolor":"#353"},{"id":338,"type":"MathExpression|pysssss","pos":[-5410,850],"size":[210,128],"flags":{},"order":82,"mode":4,"inputs":[{"localized_name":"a","name":"a","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":470},{"localized_name":"b","name":"b","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":466},{"localized_name":"c","name":"c","shape":7,"type":"INT,FLOAT,IMAGE,LATENT","link":null},{"localized_name":"expression","name":"expression","type":"INT,FLOAT,IMAGE,LATENT","widget":{"name":"expression"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[467]},{"localized_name":"FLOAT","name":"FLOAT","type":"FLOAT","links":null}],"title":"Upscale Multiplier x Width","properties":{"cnr_id":"comfyui-custom-scripts","ver":"1.2.5"},"widgets_values":["a*b"]},{"id":329,"type":"ImageResizeKJv2","pos":[-5190,670],"size":[300,270],"flags":{},"order":106,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":457},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":467},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[455]},{"localized_name":"width","name":"width","type":"INT","links":null},{"localized_name":"height","name":"height","type":"INT","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[720,10000,"lanczos","resize","0, 0, 0","center",2,"cpu"],"color":"#3d7cb0","bgcolor":"#29689c"},{"id":423,"type":"GetNode","pos":[-2320,-10],"size":[210,34],"flags":{"collapsed":true},"order":28,"mode":4,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[545]}],"title":"Get_ImageColorMatch","properties":{},"widgets_values":["ImageColorMatch"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":422,"type":"Any Switch (rgthree)","pos":[-2130,-40],"size":[140,106],"flags":{},"order":81,"mode":4,"inputs":[{"dir":3,"name":"any_01","type":"IMAGE","link":545},{"dir":3,"name":"any_02","type":"IMAGE","link":546},{"dir":3,"name":"any_03","type":"IMAGE","link":null},{"dir":3,"name":"any_04","type":"IMAGE","link":null},{"name":"any_05","type":"IMAGE","link":null}],"outputs":[{"dir":4,"label":"IMAGE","name":"*","shape":3,"type":"IMAGE","links":[547]}],"title":"Switch","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2506081210"},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":302,"type":"FinalFrameSelector","pos":[-2130,-130],"size":[169.83065795898438,26],"flags":{},"order":100,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":547}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[440]}],"properties":{"cnr_id":"ComfyUI-MediaMixer","ver":"2bae7b5ea8fc52d8a4d668d62fed76265f4eec2c","Node name for S&R":"FinalFrameSelector"},"widgets_values":[]},{"id":321,"type":"GetNode","pos":[-5590,670],"size":[210,58],"flags":{"collapsed":true},"order":29,"mode":4,"inputs":[],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[453]}],"title":"Get_UpscaleModel","properties":{},"widgets_values":["UpscaleModel"]},{"id":360,"type":"MarkdownNote","pos":[-5770,-300],"size":[270,90],"flags":{},"order":32,"mode":0,"inputs":[],"outputs":[],"title":"GGUF Loaders","properties":{},"widgets_values":["If you do not want to install GGUF nodes. You can safely delete them.\n\n\nðŸ¡»ðŸ¡»ðŸ¡»"],"color":"#432","bgcolor":"#653"},{"id":356,"type":"MarkdownNote","pos":[-6120,280],"size":[330,300],"flags":{},"order":33,"mode":0,"inputs":[],"outputs":[],"title":"GGUF Loaders Link","properties":{},"widgets_values":["## GGUF Diffusal Model\n\n >24 gb Vram or more: Q8_0\n >\\\n >16 gb Vram: Q5_K_M\n >\\\n >12 gb Vram or less: Q3_K_S\n\n720p: [Link](https://huggingface.co/city96/Wan2.1-I2V-14B-720P-gguf/tree/main)\n\n\n480p: [Link](https://huggingface.co/city96/Wan2.1-I2V-14B-480P-gguf/tree/main)\n\nðŸ—‚ï¸: models/unet\n\n------------------------------------------------------------------\n\n## Clip (GGUF):\n\n >24 gb Vram or more: Q8_0\n >\\\n >16 gb Vram: Q5_K_M\n >\\\n >12 gb Vram or less: Q3_K_S\n\n\n[Link](https://huggingface.co/city96/umt5-xxl-encoder-gguf/tree/main)\n\n\n\nðŸ—‚ï¸: models/text_encoders"],"color":"#432","bgcolor":"#653"},{"id":266,"type":"MarkdownNote","pos":[-6450,-250],"size":[320,490],"flags":{},"order":34,"mode":0,"inputs":[],"outputs":[],"title":"Get & Set Node Searching","properties":{},"widgets_values":["## Nodes Map Search (Shift+m)\n\nðŸš¨ðŸš¨ðŸš¨ðŸš¨\nOnly available if you have \"ComfyUI-Easy-Use\" custom nodes installed. \nðŸš¨ðŸš¨ðŸš¨ðŸš¨\n\nIn your Comfyui Interface panel. Usually on the left. Look for an icon with 1 small square on top and 3 small squares below it. It's call Nodes Map. \n\n---\n\nLet say you see a \"Set_FrameNum\" node.\n\nAnd you want to know where the \"Get_FrameNum\" is.\n\nEnter in the search bar (Search by Node ID/Name...).\n> Get_FramN....\n\n\n--! Case Sensitive !--\n\nAnd you will see it filtered.\n\nDouble click on that and it will bring you to the node.\n\n---\nLikewise for Get nodes.\n\n\"Set_FrameNum\"\n\nSearch: \n>Get_FrameNum\n\nDouble click.\n \n\n"],"color":"#432","bgcolor":"#653"},{"id":240,"type":"MarkdownNote","pos":[-6120,-250],"size":[330,490],"flags":{},"order":35,"mode":0,"inputs":[],"outputs":[],"title":"Loaders Link","properties":{},"widgets_values":["## Diffusion Models :\n\n\n\n>720p :\n[Link](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan2_1-I2V-14B-720P_fp8_e4m3fn.safetensors)\n\n>480p :\n[Link](https://huggingface.co/Kijai/WanVideo_comfy/blob/main/Wan2_1-I2V-14B-480P_fp8_e4m3fn.safetensors)\n\nðŸ—‚ï¸: models/diffusion_models\n\n----\n\n## Clip:\n\n[Link](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/blob/main/split_files/text_encoders/umt5_xxl_fp8_e4m3fn_scaled.safetensors)\n\n\nðŸ—‚ï¸: models/text_encoders\n\n\n\n\n\n------------------------------------------------------------------\n\n## Vae:\n\n[Link](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/blob/main/split_files/vae/wan_2.1_vae.safetensors) \n\nðŸ—‚ï¸: models/vae\n\n------------------------------------------------------------------\n\n## Clip Vision:\n[Link](https://huggingface.co/Comfy-Org/Wan_2.1_ComfyUI_repackaged/blob/main/split_files/clip_vision/clip_vision_h.safetensors)\n\nðŸ—‚ï¸: models/clip_vision  \n \n ----\n## 2x Upscaler Models:\n\n[Link](https://huggingface.co/dtarnow/UPscaler/blob/main/RealESRGAN_x2plus.pth)\n\nðŸ—‚ï¸: models/upscale_models"],"color":"#432","bgcolor":"#653"},{"id":387,"type":"MarkdownNote","pos":[-6450,280],"size":[320,170],"flags":{},"order":36,"mode":0,"inputs":[],"outputs":[],"title":"Known Errors:","properties":{},"widgets_values":["When you encountered this error:\n\n> KSamplerAdvanced Expected all tensors to be on the same device, but found at least two devices, cpu and cuda:0! (when checking argument for argument mat1 in method wrapper_CUDA_addmm)\n\nDisable/Delete BlockSwap and VRAM-Cleanup nodes.\n\nEnsure you have enough VRAM.\n\n@damiang\n"],"color":"#432","bgcolor":"#653"},{"id":428,"type":"KSampler","pos":[-2120,-590],"size":[270,262],"flags":{"collapsed":false},"order":113,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":615},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":573},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":574},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":572},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":565},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":571},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":566},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[577]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.44","Node name for S&R":"KSampler"},"widgets_values":[915919584490512,"randomize",4,1,"lcm","simple",1],"color":"#223","bgcolor":"#335"},{"id":437,"type":"ModelSamplingSD3","pos":[-3110,-860],"size":[210,60],"flags":{},"order":89,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":627},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":585}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[608]}],"title":"SHIFT","properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"ModelSamplingSD3"},"widgets_values":[4.000000000000001],"color":"#323","bgcolor":"#535"},{"id":415,"type":"Any Switch (rgthree)","pos":[-3040,730],"size":[140,106],"flags":{},"order":85,"mode":0,"inputs":[{"dir":3,"name":"any_01","type":"IMAGE","link":539},{"dir":3,"name":"any_02","type":"IMAGE","link":540},{"dir":3,"name":"any_03","type":"IMAGE","link":null},{"dir":3,"name":"any_04","type":"IMAGE","link":null},{"dir":3,"name":"any_05","type":"IMAGE","link":null}],"outputs":[{"dir":4,"label":"IMAGE","name":"*","shape":3,"type":"IMAGE","links":[541]}],"title":"Switch","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2506081210"},"widgets_values":[],"color":"#222","bgcolor":"#000"},{"id":342,"type":"SetNode","pos":[-4870,130],"size":[210,60],"flags":{"collapsed":true},"order":83,"mode":0,"inputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","link":468}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_UpscaleModel","properties":{"previousName":"UpscaleModel"},"widgets_values":["UpscaleModel"],"color":"#233","bgcolor":"#355"},{"id":18,"type":"SetNode","pos":[-4860,330],"size":[210,58],"flags":{"collapsed":true},"order":84,"mode":0,"inputs":[{"name":"VAE","type":"VAE","link":16}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Vae","properties":{"previousName":"Vae"},"widgets_values":["Vae"],"color":"#322","bgcolor":"#533"},{"id":341,"type":"GetNode","pos":[-5540,910],"size":[210,60],"flags":{"collapsed":true},"order":37,"mode":4,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[466]}],"title":"Get_Width","properties":{},"widgets_values":["Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":333,"type":"UpscaleModelLoader","pos":[-5170,100],"size":[290,80],"flags":{"collapsed":false},"order":38,"mode":0,"inputs":[{"localized_name":"model_name","name":"model_name","type":"COMBO","widget":{"name":"model_name"},"link":null}],"outputs":[{"localized_name":"UPSCALE_MODEL","name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","slot_index":0,"links":[468]}],"title":"Upscaler","properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x2plus.pth"],"color":"#50506c","bgcolor":"#3c3c58"},{"id":6,"type":"VAELoader","pos":[-5170,300],"size":[290,60],"flags":{},"order":39,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[16]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"VAELoader"},"widgets_values":["wan_2.1_vae.safetensors"],"color":"#50506c","bgcolor":"#3c3c58"},{"id":443,"type":"WanVideoNAG","pos":[-2610,-860],"size":[270,130],"flags":{},"order":102,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":608},{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":610},{"localized_name":"nag_scale","name":"nag_scale","type":"FLOAT","widget":{"name":"nag_scale"},"link":null},{"localized_name":"nag_alpha","name":"nag_alpha","type":"FLOAT","widget":{"name":"nag_alpha"},"link":null},{"localized_name":"nag_tau","name":"nag_tau","type":"FLOAT","widget":{"name":"nag_tau"},"link":null}],"outputs":[{"localized_name":"model","name":"model","type":"MODEL","links":[614]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"WanVideoNAG"},"widgets_values":[11,0.25,2.5000000000000004],"color":"#222","bgcolor":"#000"},{"id":451,"type":"Reroute","pos":[-2300,-860],"size":[75,26],"flags":{},"order":109,"mode":0,"inputs":[{"name":"","type":"*","link":614}],"outputs":[{"name":"","type":"MODEL","links":[615]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":226,"type":"Reroute","pos":[-2850,-760],"size":[75,26],"flags":{},"order":87,"mode":0,"inputs":[{"name":"","type":"*","link":625}],"outputs":[{"name":"","type":"CONDITIONING","links":[374,610]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":386,"type":"MarkdownNote","pos":[-1540,-930],"size":[290,200],"flags":{},"order":40,"mode":0,"inputs":[],"outputs":[],"title":"Color Match","properties":{},"widgets_values":["Reinhard seems to be better at realistic images.\n\nYou can try others.\nHaven't done extensive research into this.\n\n\n----\n\nMy Default:\n\n>Method: Reinhard\n\n>Strength: 0.5\n\n---\nUseful when using last frame to generate sequence videos.\n"],"color":"#432","bgcolor":"#653"},{"id":416,"type":"GetNode","pos":[-3240,760],"size":[210,34],"flags":{"collapsed":true},"order":41,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[539]}],"title":"Get_ImageColorMatch","properties":{},"widgets_values":["ImageColorMatch"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":19,"type":"SetNode","pos":[-4870,490],"size":[210,58],"flags":{"collapsed":true},"order":71,"mode":0,"inputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","link":18}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Clip V","properties":{"previousName":"Clip V"},"widgets_values":["Clip V"],"color":"#432","bgcolor":"#653"},{"id":45,"type":"GetNode","pos":[-3180,-550],"size":[210,58],"flags":{"collapsed":true},"order":42,"mode":0,"inputs":[],"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[45]}],"title":"Get_Clip V","properties":{},"widgets_values":["Clip V"],"color":"#432","bgcolor":"#653"},{"id":381,"type":"MarkdownNote","pos":[-1220,-380],"size":[210,88],"flags":{},"order":43,"mode":0,"inputs":[],"outputs":[],"title":"End Batch Images","properties":{},"widgets_values":["ðŸ¡¹ Batch Decoded Images \n\\\nBefore interpolation.\n"],"color":"#432","bgcolor":"#653"},{"id":70,"type":"GetNode","pos":[-3050,880],"size":[210,60],"flags":{"collapsed":true},"order":44,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[87]}],"title":"Get_Interpolation","properties":{},"widgets_values":["Interpolation"],"color":"#1b4669","bgcolor":"#29699c"},{"id":177,"type":"INTConstant","pos":[-3260,-120],"size":[220,58],"flags":{},"order":45,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[567]}],"title":"STEPS (4-8)","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.0.8","Node name for S&R":"INTConstant"},"widgets_values":[4],"color":"#2f5a7d","bgcolor":"#1b4669"},{"id":114,"type":"ImageResizeKJv2","pos":[-3260,-490],"size":[280,270],"flags":{"collapsed":false},"order":90,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":629},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":628},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":null},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"keep_proportion","name":"keep_proportion","type":"COMBO","widget":{"name":"keep_proportion"},"link":null},{"localized_name":"pad_color","name":"pad_color","type":"STRING","widget":{"name":"pad_color"},"link":null},{"localized_name":"crop_position","name":"crop_position","type":"COMBO","widget":{"name":"crop_position"},"link":null},{"localized_name":"divisible_by","name":"divisible_by","type":"INT","widget":{"name":"divisible_by"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[143,144]},{"localized_name":"width","name":"width","type":"INT","links":[138]},{"localized_name":"height","name":"height","type":"INT","links":[139]}],"title":"Resize Image","properties":{"cnr_id":"comfyui-kjnodes","ver":"b7e5b6f1e2b7c79b3f1e4b4bfe5e1687715803ab","Node name for S&R":"ImageResizeKJv2"},"widgets_values":[720,10000,"lanczos","resize","0, 0, 0","center",16,"cpu"],"color":"#3d7cb0","bgcolor":"#29689c"},{"id":40,"type":"WanImageToVideo","pos":[-2600,-570],"size":[242.68006896972656,223.93299865722656],"flags":{"collapsed":false},"order":110,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":375},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":374},{"localized_name":"vae","name":"vae","type":"VAE","link":50},{"localized_name":"clip_vision_output","name":"clip_vision_output","shape":7,"type":"CLIP_VISION_OUTPUT","link":49},{"localized_name":"start_image","name":"start_image","shape":7,"type":"IMAGE","link":143},{"localized_name":"width","name":"width","type":"INT","widget":{"name":"width"},"link":138},{"localized_name":"height","name":"height","type":"INT","widget":{"name":"height"},"link":139},{"localized_name":"length","name":"length","type":"INT","widget":{"name":"length"},"link":77},{"localized_name":"batch_size","name":"batch_size","type":"INT","widget":{"name":"batch_size"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[573]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[574]},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[572]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"WanImageToVideo"},"widgets_values":[736,544,61,1],"color":"#222","bgcolor":"#000"},{"id":271,"type":"MarkdownNote","pos":[-5470,-360],"size":[270,150],"flags":{},"order":46,"mode":0,"inputs":[],"outputs":[],"title":"Block Swap Settings","properties":{},"widgets_values":["Enable if you have VRAM issues, Up to MAX 40.\n\nTurn on everything.\n\n14B Models have Max 40 Blocks.\n\nIf you have no VRAM issues.\nDisable it.\n\nðŸ¡»ðŸ¡»ðŸ¡»"],"color":"#432","bgcolor":"#653"},{"id":181,"type":"wanBlockSwap","pos":[-5460,-90],"size":[250,130],"flags":{"collapsed":false},"order":72,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":480},{"localized_name":"blocks_to_swap","name":"blocks_to_swap","type":"INT","widget":{"name":"blocks_to_swap"},"link":null},{"localized_name":"offload_img_emb","name":"offload_img_emb","type":"BOOLEAN","widget":{"name":"offload_img_emb"},"link":null},{"localized_name":"offload_txt_emb","name":"offload_txt_emb","type":"BOOLEAN","widget":{"name":"offload_txt_emb"},"link":null},{"localized_name":"use_non_blocking","name":"use_non_blocking","type":"BOOLEAN","widget":{"name":"use_non_blocking"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[475]}],"properties":{"cnr_id":"wanblockswap","ver":"5fa2ec0fa55879fe43a33e762fff91fc2c553a67","Node name for S&R":"wanBlockSwap"},"widgets_values":[20,true,true,true],"color":"#232","bgcolor":"#353"},{"id":444,"type":"MarkdownNote","pos":[-2610,-1020],"size":[270,120],"flags":{},"order":47,"mode":0,"inputs":[],"outputs":[],"title":"NAG","properties":{},"widgets_values":["Helps to refines video generation, especially with negative prompts, to improve consistency and quality when using CFG 1.\n\nI think the default settings are good enough.\n\nThis only work with single sampler using CFG of 1."],"color":"#432","bgcolor":"#653"},{"id":272,"type":"Fast Groups Bypasser (rgthree)","pos":[-4210,440],"size":[340,178],"flags":{},"order":48,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"title":"Options","properties":{"matchColors":"Green","matchTitle":"","showNav":true,"sort":"alphanumeric","customSortAlphabet":"","toggleRestriction":"default"},"color":"#766f1d","bgcolor":"#625b09"},{"id":305,"type":"SaveImage","pos":[-1950,-130],"size":[290,330],"flags":{},"order":107,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":440},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.41","Node name for S&R":"SaveImage"},"widgets_values":["Wan_I2V_LastFrame_"]},{"id":22,"type":"Power Lora Loader (rgthree)","pos":[-4210,-130],"size":[340,230],"flags":{},"order":123,"mode":0,"inputs":[{"dir":3,"name":"model","type":"MODEL","link":557},{"dir":3,"name":"clip","type":"CLIP","link":null}],"outputs":[{"dir":4,"name":"MODEL","shape":3,"type":"MODEL","links":[561]},{"dir":4,"name":"CLIP","shape":3,"type":"CLIP","links":[]}],"title":"Speed Lora + Extra","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.0","Show Strengths":"Single Strength"},"widgets_values":[{},{"type":"PowerLoraLoaderHeaderWidget"},{"on":true,"lora":"Wan21_I2V_14B_lightx2v_cfg_step_distill_lora_rank64.safetensors","strength":1,"strengthTwo":null},{"on":true,"lora":"Wan14B_RealismBoost_T2V.safetensors","strength":0.5,"strengthTwo":null},{"on":true,"lora":"DetailEnhancerV1.safetensors","strength":0.5,"strengthTwo":null},{"on":true,"lora":"Wan2.1-Fun-14B-InP-MPS.safetensors","strength":0.4,"strengthTwo":null},{},""],"color":"#323","bgcolor":"#535"},{"id":8,"type":"CLIPTextEncode","pos":[-3820,-130],"size":[380,210],"flags":{},"order":127,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":559},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[622]}],"title":"Positive Prompt","properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":9,"type":"CLIPTextEncode","pos":[-3820,120],"size":[390,200],"flags":{},"order":128,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":560},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[623]}],"title":"Negative Prompt","properties":{"cnr_id":"comfy-core","ver":"0.3.16","Node name for S&R":"CLIPTextEncode"},"widgets_values":["bright colors, overexposed, blurred details, subtitles, style, artwork, painting, picture, overall gray, worst quality, low quality, JPEG compression residue, ugly, incomplete, extra fingers, poorly drawn hands, poorly drawn faces, deformed, disfigured, malformed limbs, fused fingers, cluttered background, three legs, many people in the background, walking backwards,\n\ntalking, bad anatomy, downsampling, aliasing, distorted, blurry, glossy, blur, jpeg artifacts, compression artifacts, poorly drawn, low-resolution, bad, distortion, bad eyes, blurry eyes, motion blur, badly drawn eyes,\n\n"],"color":"#322","bgcolor":"#533"},{"id":463,"type":"GetNode","pos":[-3270,-730],"size":[210,50],"flags":{"collapsed":true},"order":49,"mode":0,"inputs":[],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[625]}],"title":"Get_Neg","properties":{},"widgets_values":["Neg"],"color":"#332922","bgcolor":"#593930"},{"id":462,"type":"GetNode","pos":[-3270,-760],"size":[210,60],"flags":{"collapsed":true},"order":50,"mode":0,"inputs":[],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[626]}],"title":"Get_Pos","properties":{},"widgets_values":["Pos"],"color":"#332922","bgcolor":"#593930"},{"id":438,"type":"GetNode","pos":[-3270,-810],"size":[210,50],"flags":{"collapsed":true},"order":51,"mode":0,"inputs":[],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[585]}],"title":"Get_Shift","properties":{},"widgets_values":["Shift"],"color":"#232","bgcolor":"#353"},{"id":464,"type":"GetNode","pos":[-3270,-850],"size":[210,60],"flags":{"collapsed":true},"order":52,"mode":0,"inputs":[],"outputs":[{"name":"MODEL","type":"MODEL","links":[627]}],"title":"Get_Model","properties":{},"widgets_values":["Model"],"color":"#223","bgcolor":"#335"},{"id":466,"type":"GetNode","pos":[-3460,-460],"size":[210,60],"flags":{"collapsed":true},"order":53,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[629]}],"title":"Get_ImageInput","properties":{},"widgets_values":["ImageInput"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":465,"type":"GetNode","pos":[-3460,-400],"size":[210,60],"flags":{"collapsed":true},"order":54,"mode":0,"inputs":[],"outputs":[{"name":"INT","type":"INT","links":[628]}],"title":"Get_Width","properties":{},"widgets_values":["Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":458,"type":"SetNode","pos":[-3820,360],"size":[210,60],"flags":{"collapsed":true},"order":126,"mode":0,"inputs":[{"name":"MODEL","type":"MODEL","link":621}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Model","properties":{"previousName":"Model"},"widgets_values":["Model"],"color":"#223","bgcolor":"#335"},{"id":461,"type":"SetNode","pos":[-3430,430],"size":[210,50],"flags":{"collapsed":true},"order":91,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":624}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_ImageInput","properties":{"previousName":"ImageInput"},"widgets_values":["ImageInput"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":459,"type":"SetNode","pos":[-3430,150],"size":[210,60],"flags":{"collapsed":true},"order":130,"mode":0,"inputs":[{"name":"CONDITIONING","type":"CONDITIONING","link":623}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Neg","properties":{"previousName":"Neg"},"widgets_values":["Neg"],"color":"#332922","bgcolor":"#593930"},{"id":460,"type":"SetNode","pos":[-3440,-100],"size":[210,60],"flags":{"collapsed":true},"order":129,"mode":0,"inputs":[{"name":"CONDITIONING","type":"CONDITIONING","link":622}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Pos","properties":{"previousName":"Pos"},"widgets_values":["Pos"],"color":"#332922","bgcolor":"#593930"},{"id":35,"type":"LoadImage","pos":[-3820,400],"size":[390,326],"flags":{},"order":55,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[624]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"title":"Input Image","properties":{"cnr_id":"comfy-core","ver":"0.3.15","Node name for S&R":"LoadImage"},"widgets_values":["tmp2l9ych64.jpg","image"]},{"id":340,"type":"SetNode","pos":[-3820,770],"size":[210,58],"flags":{"collapsed":true},"order":93,"mode":0,"inputs":[{"name":"INT","type":"INT","link":580}],"outputs":[{"name":"*","type":"*","links":[]}],"title":"Set_Width","properties":{"previousName":"Width"},"widgets_values":["Width"],"color":"#1b4669","bgcolor":"#29699c"},{"id":344,"type":"SetNode","pos":[-3820,810],"size":[210,60],"flags":{"collapsed":true},"order":92,"mode":0,"inputs":[{"name":"INT","type":"INT","link":469}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_UpscalerMultiplier","properties":{"previousName":"UpscalerMultiplier"},"widgets_values":["UpscalerMultiplier"],"color":"#1b4669","bgcolor":"#29699c"},{"id":343,"type":"mxSlider","pos":[-4210,780],"size":[340,30],"flags":{},"order":56,"mode":0,"inputs":[{"localized_name":"Xi","name":"Xi","type":"INT","widget":{"name":"Xi"},"link":null},{"localized_name":"Xf","name":"Xf","type":"FLOAT","widget":{"name":"Xf"},"link":null},{"localized_name":"isfloatX","name":"isfloatX","type":"INT","widget":{"name":"isfloatX"},"link":null}],"outputs":[{"localized_name":"","name":"","type":"FLOAT","links":[469]}],"title":"Upscaler Multiplier","properties":{"cnr_id":"comfyui-mxtoolkit","ver":"0.9.92","Node name for S&R":"mxSlider","value":1.5,"min":1,"max":2,"step":0.1,"decimals":1,"snap":true},"widgets_values":[1,1.5,1],"color":"#232","bgcolor":"#353"},{"id":427,"type":"Power Lora Loader (rgthree)","pos":[-4210,140],"size":[340,260],"flags":{},"order":125,"mode":0,"inputs":[{"dir":3,"name":"model","type":"MODEL","link":561},{"dir":3,"name":"clip","type":"CLIP","link":584}],"outputs":[{"dir":4,"name":"MODEL","shape":3,"type":"MODEL","links":[621]},{"dir":4,"name":"CLIP","shape":3,"type":"CLIP","links":[559,560]}],"title":"Loras","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.0","Show Strengths":"Single Strength"},"widgets_values":[{},{"type":"PowerLoraLoaderHeaderWidget"},{},""],"color":"#233","bgcolor":"#355"},{"id":184,"type":"INTConstant","pos":[-4210,670],"size":[340,60],"flags":{},"order":57,"mode":0,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"value","name":"value","type":"INT","links":[580]}],"title":"Scale by Width","properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"INTConstant"},"widgets_values":[720],"color":"#1b4669","bgcolor":"#29699c"},{"id":247,"type":"MarkdownNote","pos":[-4690,-330],"size":[340,120],"flags":{"collapsed":false},"order":58,"mode":0,"inputs":[],"outputs":[],"title":"ðŸš¨Torch Compile","properties":{},"widgets_values":["Only enable if you are able to use \n\nOtherwise set it to disable.\n\n\n---\n\n\nNeed model pass connect at the end for WF to work if Torch Compile is disable.\n\n\n\n\n\n\n\n\n"],"color":"#432","bgcolor":"#653"},{"id":314,"type":"MarkdownNote","pos":[-4690,-460],"size":[340,90],"flags":{"collapsed":false},"order":59,"mode":0,"inputs":[],"outputs":[],"title":"ðŸš¨ SAGE ATTENTION #","properties":{},"widgets_values":["ðŸš¨ Turn on Sage Attention if you have it installed. \n\nThis is what I normally use:\n>sageattn_qk_int8_pv_fp16_triton "],"color":"#432","bgcolor":"#653"},{"id":452,"type":"MarkdownNote","pos":[-1760,-330],"size":[210,88],"flags":{},"order":60,"mode":0,"inputs":[],"outputs":[],"title":"VRAM-CleanUp","properties":{},"widgets_values":["You can swap this node with other VRAM clean up management nodes you prefer."],"color":"#432","bgcolor":"#653"},{"id":248,"type":"MarkdownNote","pos":[-4340,860],"size":[220,270],"flags":{},"order":61,"mode":0,"inputs":[],"outputs":[],"title":"Scale by","properties":{},"widgets_values":["Scale by Width and keep proportion.\n\nGenerally use when down scaling input Image.\n\nOr just put the same width as your image to keep it the same.\n\nBest use dimension with multiple of 16 or it will be crop.\n\nExample:\n>Image: 720 x 960\n\\\nInput width: 480\n\\\nInput Height: 10000\n\\\nResult Video: 480 x 640\n\n>Image: 720 x 1280\n\\\nInput width: 640\n\\\nInput Height: 10000\n\\\nResult Video: 640 x 1136"],"color":"#432","bgcolor":"#653"},{"id":17,"type":"Seed (rgthree)","pos":[-3260,490],"size":[220,140],"flags":{},"order":62,"mode":0,"inputs":[],"outputs":[{"dir":4,"name":"SEED","shape":3,"type":"INT","links":[441]}],"title":"Seed (Randomizer)","properties":{"cnr_id":"rgthree-comfy","ver":"1.0.2506081210"},"widgets_values":[-1,"","",""],"color":"#4c614e","bgcolor":"#384d3a"},{"id":467,"type":"MarkdownNote","pos":[-3510,-320],"size":[230,110],"flags":{},"order":63,"mode":0,"inputs":[],"outputs":[],"title":"CFG / Shift / Steps","properties":{},"widgets_values":["CFG = 1 (Using Self Forcing lora)\n\\\n\\\nShift = 8-4\n\\\n\\\nSteps = 4-8 (higher steps higher quality but longer time to gen)"],"color":"#432","bgcolor":"#653"},{"id":293,"type":"MarkdownNote","pos":[-2120,-870],"size":[270,140],"flags":{},"order":64,"mode":0,"inputs":[],"outputs":[],"title":"Scheduler & Sampler","properties":{},"widgets_values":["Default settings:\n---\nSingle KSampler:\n\n>Sampler:   lcm\n\\\nScheduler:  simple\n\n---\n\nYou can try others if you want to experiment."],"color":"#432","bgcolor":"#653"},{"id":183,"type":"GetNode","pos":[-4330,190],"size":[210,60],"flags":{"collapsed":true},"order":65,"mode":0,"inputs":[],"outputs":[{"name":"CLIP","type":"CLIP","links":[584]}],"title":"Get_Clip","properties":{},"widgets_values":["Clip"],"color":"#432","bgcolor":"#653"},{"id":347,"type":"VHS_VideoCombine","pos":[-2580,730],"size":[214.7587890625,607.6784057617188],"flags":{},"order":108,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":471},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":472},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.6.1","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"Wan_i2v_","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"Wan_i2v__00872.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":32,"workflow":"Wan_i2v__00872.png","fullpath":"D:\\Bael\\1\\xx\\SD\\ComfyUI2\\output\\Wan_i2v__00872.mp4"}}},"color":"#222","bgcolor":"#000"},{"id":445,"type":"VHS_VideoCombine","pos":[-4580,670],"size":[214.7587890625,607.6784057617188],"flags":{},"order":115,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":596},{"localized_name":"audio","name":"audio","shape":7,"type":"AUDIO","link":null},{"localized_name":"meta_batch","name":"meta_batch","shape":7,"type":"VHS_BatchManager","link":null},{"localized_name":"vae","name":"vae","shape":7,"type":"VAE","link":null},{"localized_name":"frame_rate","name":"frame_rate","type":"FLOAT","widget":{"name":"frame_rate"},"link":597},{"localized_name":"loop_count","name":"loop_count","type":"INT","widget":{"name":"loop_count"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null},{"localized_name":"format","name":"format","type":"COMBO","widget":{"name":"format"},"link":null},{"localized_name":"pingpong","name":"pingpong","type":"BOOLEAN","widget":{"name":"pingpong"},"link":null},{"localized_name":"save_output","name":"save_output","type":"BOOLEAN","widget":{"name":"save_output"},"link":null}],"outputs":[{"localized_name":"Filenames","name":"Filenames","type":"VHS_FILENAMES","links":null}],"properties":{"cnr_id":"comfyui-videohelpersuite","ver":"1.6.1","Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"Wan_I2V_Upscaled_","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":19,"save_metadata":true,"trim_to_audio":false,"pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"Wan_i2v__00872.mp4","subfolder":"","type":"output","format":"video/h264-mp4","frame_rate":32,"workflow":"Wan_i2v__00872.png","fullpath":"D:\\Bael\\1\\xx\\SD\\ComfyUI2\\output\\Wan_i2v__00872.mp4"}}},"color":"#222","bgcolor":"#000"},{"id":435,"type":"MarkdownNote","pos":[-4210,-620],"size":[340,410],"flags":{},"order":67,"mode":0,"inputs":[],"outputs":[],"title":"ðŸš¨Loras Link - Important","properties":{},"widgets_values":["## Self Forcing Lora (Strength: 1):\n\nChoose one:\n\n[Link](https://civitai.com/models/1585622?modelVersionId=2014449) (707MB)\n\n[Link](https://civitai.com/models/1585622?modelVersionId=2016546) (1.36GB) - Slightly better quality but bigger file size\n\n\nðŸš¨Require!\n\n----\n\n## Extra Enhancement (Optional):\n\nRealism Boost (0.5):\n[Link](https://huggingface.co/vrgamedevgirl84/Wan14BT2VFusioniX/blob/main/OtherLoRa's/Wan14B_RealismBoost.safetensors) ( 307MB)\n\\\n(This might affect some loras, might want to toggle this off 1st)\n\nDetail Enhancer (0.5): \n[Link](https://huggingface.co/vrgamedevgirl84/Wan14BT2VFusioniX/blob/main/OtherLoRa's/DetailEnhancerV1.safetensors) ( 307MB)\n\nCredits to [vrgamedevgirl](https://civitai.com/user/vrgamedevgirl)\n\n---\nMPS Reward Lora  (0.4-0.5):\n[Link](https://huggingface.co/alibaba-pai/Wan2.1-Fun-Reward-LoRAs/blob/main/Wan2.1-Fun-14B-InP-MPS.safetensors)  (1.46GB)\n\n----\nPut in 1st Lora Loaders (Purple) as you will use this often. And you won't get mixed up with other Loras for diff vids.\n\nYou can toggle the extra off if they affect the outcome too much.\n\nðŸ—‚ï¸: models/loras\n\nðŸ¡»ðŸ¡»ðŸ¡»"],"color":"#432","bgcolor":"#653"},{"id":355,"type":"MarkdownNote","pos":[-5470,410],"size":[270,110],"flags":{},"order":69,"mode":0,"inputs":[],"outputs":[],"title":"GGUF Clip Connection","properties":{},"widgets_values":["ðŸ¡¹ðŸš©Connect your GGUF Clip Here \n\nðŸ¢€ Disable the Native one if you are using GGUF  \n    "],"color":"#432","bgcolor":"#653"},{"id":468,"type":"MarkdownNote","pos":[-4110,860],"size":[210,270],"flags":{},"order":70,"mode":0,"inputs":[],"outputs":[],"title":"Speed","properties":{},"widgets_values":["## Speed input:\n\n>1 = normal speed\n\n>more than 1 = accelerated motion but reduce video length\n\n>Less than 1 = slow down motion but increase video length\n\n-----\nTry not go below 0.6 speed."],"color":"#432","bgcolor":"#653"},{"id":273,"type":"MarkdownNote","pos":[-3890,860],"size":[240,270],"flags":{},"order":68,"mode":0,"inputs":[],"outputs":[],"title":"Frame Interpolation","properties":{},"widgets_values":["## If you wish to use external Frame Interpolation + Upscaler. \n\n>Set Interpolation Multiplier to 1.\n\\\nSet Speed to 1.\n\\\nSwitch off Upscaler\n\\\nSwitch on First Pass\n\n----------------\nOtherwise,\n\n>2-3 Interpolation Multiplier for accelerated videos\n\n>4-5 Interpolation Multiplier for slow down videos\n\n> 2-4 Interpolation Multiplier for normal speed videos\n\n\n\n"],"color":"#432","bgcolor":"#653"},{"id":412,"type":"MarkdownNote","pos":[-3640,860],"size":[230,110],"flags":{},"order":20,"mode":0,"inputs":[],"outputs":[],"title":"Color Match","properties":{},"widgets_values":["Usually use for sequencing video from last frame to have consistent color.\n\nCan also use if you want color to be uniform through out the video, especially in some cases where color of the vid get gradually more saturated/bright. "],"color":"#432","bgcolor":"#653"},{"id":346,"type":"MarkdownNote","pos":[-3640,1010],"size":[230,110],"flags":{},"order":30,"mode":0,"inputs":[],"outputs":[],"title":"First Pass","properties":{},"widgets_values":["Disable to skip the 1st video combine.\n\nUse when you want to upscale but don't want to have the un-scale video."],"color":"#432","bgcolor":"#653"},{"id":449,"type":"MarkdownNote","pos":[-3640,1160],"size":[230,120],"flags":{},"order":31,"mode":0,"inputs":[],"outputs":[],"title":"Save Last Frame","properties":{},"widgets_values":["Save the last frame of the video so you can generate sequence video using that last frame and then join them together later."],"color":"#432","bgcolor":"#653"},{"id":241,"type":"MarkdownNote","pos":[-5470,90],"size":[270,90],"flags":{},"order":66,"mode":0,"inputs":[],"outputs":[],"title":"GGUF Model Connection","properties":{},"widgets_values":["ðŸ¡¹ðŸš©Connect your GGUF Diffusion Model Here \n\nðŸ¢€ Disable the Native one if you are using GGU   \n             "],"color":"#432","bgcolor":"#653"}],"links":[[16,6,0,18,0,"*"],[18,7,0,19,0,"*"],[45,45,0,41,0,"CLIP_VISION"],[49,41,0,40,3,"CLIP_VISION_OUTPUT"],[50,46,0,40,2,"VAE"],[69,52,0,53,0,"MODEL"],[76,58,0,59,0,"*"],[77,60,0,40,7,"INT"],[87,70,0,69,4,"INT"],[95,64,1,75,0,"INT,FLOAT,IMAGE,LATENT"],[97,75,1,67,0,"FLOAT"],[124,101,0,58,0,"INT,FLOAT,IMAGE,LATENT"],[126,103,0,72,0,"INT"],[138,114,1,40,5,"INT"],[139,114,2,40,6,"INT"],[143,114,0,40,4,"IMAGE"],[144,114,0,41,1,"IMAGE"],[149,58,0,118,0,"*"],[289,103,0,64,0,"INT,FLOAT,IMAGE,LATENT"],[374,226,0,40,1,"CONDITIONING"],[375,225,0,40,0,"CONDITIONING"],[395,104,0,237,0,"*"],[396,237,0,75,1,"INT,FLOAT,IMAGE,LATENT"],[440,302,0,305,0,"IMAGE"],[441,17,0,307,0,"*"],[446,51,0,313,0,"MODEL"],[453,321,0,323,0,"UPSCALE_MODEL"],[455,329,0,325,0,"IMAGE"],[456,324,0,325,4,"INT"],[457,323,0,329,0,"IMAGE"],[466,341,0,338,1,"INT,FLOAT,IMAGE,LATENT"],[467,338,0,329,1,"INT"],[468,333,0,342,0,"*"],[469,343,0,344,0,"*"],[470,345,0,338,0,"INT,FLOAT,IMAGE,LATENT"],[471,69,0,347,0,"IMAGE"],[472,68,0,347,4,"FLOAT"],[475,181,0,352,0,"MODEL"],[480,312,0,181,0,"MODEL"],[482,5,0,14,0,"CLIP"],[483,53,0,358,0,"MODEL"],[484,358,0,51,0,"MODEL"],[507,378,0,384,0,"IMAGE"],[534,384,0,413,0,"*"],[539,416,0,415,0,"IMAGE"],[540,417,0,415,1,"IMAGE"],[541,415,0,69,0,"IMAGE"],[542,418,0,420,0,"IMAGE"],[543,419,0,420,1,"IMAGE"],[544,420,0,323,1,"IMAGE"],[545,423,0,422,0,"IMAGE"],[546,424,0,422,1,"IMAGE"],[547,422,0,302,0,"IMAGE"],[548,377,0,425,0,"LATENT"],[549,376,0,425,1,"VAE"],[550,425,0,384,1,"IMAGE"],[551,425,0,380,0,"IMAGE"],[552,425,0,383,0,"*"],[556,352,0,52,0,"MODEL"],[557,313,0,22,0,"MODEL"],[559,427,1,8,0,"CLIP"],[560,427,1,9,0,"CLIP"],[561,22,0,427,0,"MODEL"],[565,308,0,428,4,"INT"],[566,256,0,428,6,"FLOAT"],[567,177,0,229,0,"INT"],[571,429,0,428,5,"INT"],[572,40,2,428,3,"LATENT"],[573,40,0,428,1,"CONDITIONING"],[574,40,1,428,2,"CONDITIONING"],[577,428,0,377,0,"*"],[580,184,0,340,0,"INT"],[583,434,0,433,0,"*"],[584,183,0,427,1,"CLIP"],[585,438,0,437,1,"FLOAT"],[592,442,0,441,0,"*"],[596,325,0,445,0,"IMAGE"],[597,320,0,445,4,"FLOAT"],[608,437,0,443,0,"MODEL"],[610,226,0,443,1,"CONDITIONING"],[614,443,0,451,0,"*"],[615,451,0,428,0,"MODEL"],[621,427,0,458,0,"*"],[622,8,0,460,0,"*"],[623,9,0,459,0,"*"],[624,35,0,461,0,"*"],[625,463,0,226,0,"*"],[626,462,0,225,0,"*"],[627,464,0,437,0,"MODEL"],[628,465,0,114,1,"INT"],[629,466,0,114,0,"IMAGE"]],"groups":[{"id":4,"title":"Loaders  & Block Swap","bounding":[-5780,-200,1080,780],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"Input Segment","bounding":[-4340,-200,1060,1020],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"Middle Setup Segment","bounding":[-3270,-720,930,510],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"Settings and Calculations Process","bounding":[-3270,-200,930,840],"color":"#3f789e","font_size":24,"flags":{}},{"id":10,"title":"KSampler","bounding":[-2330,-720,490,510],"color":"#3f789e","font_size":24,"flags":{}},{"id":11,"title":"Decoding - VRAM Cleaning - Color Match - Set Batch Decoded Images","bounding":[-1830,-720,830,510],"color":"#3f789e","font_size":24,"flags":{}},{"id":20,"title":"4 - Save Last Frame","bounding":[-2330,-200,680,410],"color":"#8A8","font_size":24,"flags":{}},{"id":21,"title":"2 - Upscaler","bounding":[-5780,590,1430,750],"color":"#8A8","font_size":24,"flags":{}},{"id":22,"title":"1 - First Pass","bounding":[-3270,650,930,750],"color":"#8A8","font_size":24,"flags":{}},{"id":23,"title":"Torch Compile | Sage Attention","bounding":[-4690,-200,340,780],"color":"#3f789e","font_size":24,"flags":{}},{"id":24,"title":"Torch Compile","bounding":[-4680,-160,320,470],"color":"#88A","font_size":24,"flags":{}},{"id":26,"title":"3 - Color Match","bounding":[-1540,-630,290,180],"color":"#8A8","font_size":24,"flags":{}},{"id":27,"title":"VRAM-Cleanup","bounding":[-1540,-420,290,180],"color":"#b06634","font_size":24,"flags":{}},{"id":28,"title":"Block Swap","bounding":[-5470,-150,270,200],"color":"#b06634","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.6934334949441806,"offset":[6543.107061089156,311.92452629555294]},"frontendVersion":"1.23.4","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true},"version":0.4}